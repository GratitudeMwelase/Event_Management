{% extends 'base.html' %}
{% block content %}
<h1 style="margin-top:50px;">Event List</h1>
<div>
    {% if events %}
    <table class ='table'>
        <thread>
            <tr>
                <th scope ="col">Event Name</th>
                <th scope ="col">Description</th>
                <th scope ="col">Date</th>
                <th scope ="col">Time</th>
                <th scope ="col">Location</th>
                <th scope ="col">Organizer</th>
                <th scope ="col">Category</th>
                <th scope ="col">Action</th>
            </tr>
        </thread>
        <tbody>
            {% for event in events %}
            <tr>
                <td><a class="btn btn-secondary" href="{% url 'event_detail' event.id %}">{{ event.title }}</a></td>
                <td>{{ event.description }}</td>
                <td>{{ event.date }}</td>
                <td>{{ event.time }}</td>
                <td>{{ event.location }}</td>
                <td>{{ event.organizer.username }}</td>
                <td>{{event.category}}</td>

            
            {%if event.organizer == request.user%}
                <td>
                    <a href="{% url 'edit_event' event.pk %}" class="btn btn-primary">Edit</a>
                    <a href="{% url 'delete_event' event.pk %}" class="btn btn-danger">Delete</a>
                </td>
               {% else %}
                <td>
                    <span class ="text-muted">No Action available</span>
                </td>
                {% endif %} 
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class ="text-muted">No events available.</p>
    {% endif %}
   </div>
   {% endblock %}